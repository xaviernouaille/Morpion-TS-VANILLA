{"version":3,"sources":["src/tictactoe.ts","src/index.ts"],"names":[],"mappings":"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","file":"src.f10117fe.js","sourceRoot":"..","sourcesContent":["type Player = 1 | 2;\ntype Cell = Player | null;\ntype Row = Cell[];\ntype Columns = Cell[];\ntype Diagonals = Cell[];\ntype Board = Row[];\n\nconst initialBoard: Board = [\n  [null, null, null],\n  [null, null, null],\n  [null, null, null]\n];\n\nfunction getDiagonals(board: Board): Diagonals[] {\n  return [board.map((row, y) => row[y]), board.map((row, y) => row[2 - y])];\n}\nfunction getColumns(board: Board): Columns[] {\n  return board.map((row, y) => row.map((_, x) => board[x][y]));\n}\nfunction getRows(board: Board): Row[] {\n  return board;\n}\n\nfunction getOwner(cells: Cell[]): Player | null {\n  return cells.every((cell) => cell !== null && cell === cells[0])\n    ? cells[0]\n    : null;\n}\n\nfunction getWinner(board: Board): Player | null {\n  const diagonals = getDiagonals(board);\n  const columns = getColumns(board);\n  const rows = getRows(board);\n\n  return [...diagonals, ...columns, ...rows].reduce<Player | null>(\n    (winner, cells) => {\n      return winner || getOwner(cells);\n    },\n    null\n  );\n}\n\nfunction isEven(n: number): boolean {\n  return n % 2 === 0;\n}\n\nfunction getNextPlayer(board: Board): Player {\n  const getEmptyCellCount = (row: Row): number =>\n    row.filter((cell) => cell === null).length;\n\n  const emptyCellsCount = board.reduce(\n    (sum, row) => sum + getEmptyCellCount(row),\n    0\n  );\n\n  return isEven(emptyCellsCount) ? 2 : 1;\n}\n\nfunction play(board: Board, x: number, y: number): Board {\n  if (!getWinner(board) && !board[y][x]) {\n    return board.map((row, rowY) =>\n      rowY === y\n        ? row.map((cell, cellX) => (cellX === x ? getNextPlayer(board) : cell))\n        : row\n    );\n  }\n  return board;\n}\n\nexport { initialBoard, play, getNextPlayer, Row, Cell, Board, getWinner };\n","import { initialBoard, play, Cell, Board, Row, getWinner, getNextPlayer } from \"./tictactoe\";\n\nlet app = document.getElementById(\"app\") as HTMLDivElement;\n\nfunction displayBoard(board: Board){\n  // Verify if winner\n  if(getWinner(board)){\n    alert(getWinner(board) + \" win!\")\n  }\n  // Delete previous board\n  app.innerHTML = \"\"\n\n  // Display title\n  const title = document.createElement('h1')\n  title.innerHTML = \"Tic Tac Toe\"\n  app.append(title)\n  \n  // Create container\n  const container = document.createElement(\"tbody\")\n  container.setAttribute('id', 'board_container')\n  app.append(container)\n  \n  // Display current player\n  const currentPlayer = document.createElement('p')\n  currentPlayer.innerHTML = \"Player \" + getNextPlayer(board).toString() + \", it's your turn\"\n  app.append(currentPlayer)\n  \n  // Reset button\n  const resetButton = document.createElement('button')\n  resetButton.setAttribute('id', 'reset')\n  resetButton.innerText = \"RESET\"\n  resetButton.addEventListener('click', ()=> {displayBoard(initialBoard)})\n  app.append(resetButton)\n\n  board.map((row:Row, indexRow:number) => {\n    const rowElement = document.createElement(\"tr\");\n    container.append(rowElement);\n    row.map((cel:Cell, indexCel:number) => {\n      // document.getElementById('board_container')?.append(document.createElement('li'))\n      const cellElement = document.createElement('td')\n      rowElement.append(cellElement)\n      if(cel){\n        switch (cel){\n          case 1:\n            cellElement.innerHTML = \"X\"\n            cellElement.classList.add(\"X\")\n            break;\n          case 2:\n            cellElement.innerHTML = \"O\"\n            cellElement.classList.add(\"O\")\n            break;\n        }\n      }\n      cellElement.addEventListener(\"click\", () => {\n        displayBoard(play(board, indexCel, indexRow))\n      });\n    });\n  });\n}\n\napp ? displayBoard(initialBoard) : \"\"\n"]}